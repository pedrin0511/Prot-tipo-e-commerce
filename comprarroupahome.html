<!DOCTYPE html>
<html lang="pt-BR">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Art</title>
        <link rel="stylesheet" href="home.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
        <link rel="stylesheet" href="https://fontawesome.com/icons/instagram?f=brands&s=solid">
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-PLTYYFBY0E"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
      
          gtag('config', 'G-PLTYYFBY0E');
        </script>
    </head>
<body>
    <header>
        <nav class="navbar">
            <div class="logo"><a href="home.html"><img src="imagens_site/sualogo.png" alt=""></a></div>
            <ul class="nav-links">
                <li><a href="tenis.html">TÃŠNIS</a></li>
                <li><a href="calca.html">CALÃ‡A</a></li>
                <li><a href="camisa.html">CAMISA</a></li>
            </ul>
            <div class="icons"><div class="hamburger" onclick="toggleMenu()">
                &#9776;
            </div>  <a href="carrinho.html" class="car"><span class="material-symbols-outlined">shopping_cart</span></a>
                </div>
        </nav>
    </header>

    <aside class="side-menu" id="side-menu">
        <div class="close-btn" onclick="toggleMenu()">&#10006;</div>
        <ul>
            <li><a href="tenis.html" onclick="toggleMenu()">TÃŠNIS</a></li>
            <li><a href="calca.html" onclick="toggleMenu()">CALÃ‡A</a></li>
            <li><a href="camisa.html" onclick="toggleMenu()">CAMISA</a></li>
        </ul>
    </aside>
    <div class="container-compra">
    <div class="container-compra-home">
        <h1 id="desc-produto"></h1>
        <div class="carrossel-compra-home">
            <button class="antes" onclick="proximoslide(-1)">&#10094;</button>
            <div class="imagemhome">
                <img id="imagem-produtohome" class="imagem" src="imagem1.jpg" alt="Produto">
                <img id="imagem-extra1" class="imagem" src="imagem2.jpg" alt="Imagem Extra 1">
                <img id="imagem-extra2" class="imagem" src="imagem3.jpg" alt="Imagem Extra 2">
            </div>
            <button class="depois" onclick="proximoslide(1)">&#10095;</button>
        </div>
    </div>
    <h2 class="h2">TAMANHOS</h2>
    <div class="size-buttons">
        <button class="size-button" data-type="calca">P</button>
        <button class="size-button" data-type="calca">M</button>
        <button class="size-button" data-type="calca">G</button>
        <button class="size-button" data-type="calca">GG</button>
    </div>
    
    <div class="off-compra-home"><p id="off-produto"></p></div>
    <div class="preco-compra-home">
        <p id="preco-original-produto"></p>
        <p id="preco-promocional-produto" class="precodescontado"></p>
    </div>
    
    <div class="comprar-carrinho">
        <div class="text-box">
            <button class="buy-btn" onclick="addCarrinho(this)" >
                <span class="icon">ðŸ›’</span>  COMPRAR
            </button>
        </div>
    </div>
</div>
<div class="veja"><h3>VEJA TAMBEM...</h3></div>
     <div class="scroll-tipos">
        <div class="caritens">
            <a href="tenis.html">
                <img src="imagens_site/imagem1.png" alt="TÃªnis DC Preto" class="imagem-produto">
                <div class="ofer">
                    <span class="material-symbols-outlined">sell</span>
                </div>
            </a>
            <div class="off">off 00%</div>
            <p class="desc">ROUPA</p>
            <div class="preÃ§o">
                <p class="sublinhado">$000</p>
                <p>$000</p>
            </div>
            <input type="hidden" class="imagem-extra1" value="imagens_site/imagem2.png">
            <input type="hidden" class="imagem-extra2" value="imagens_site/imagem3.png">
            <input type="hidden" class="calca1" value="calcaitem">
            <button onclick="comprarProdutos(this)">Comprar</button>
        </div>
        <div class="caritens">
            <a href="tenis.html">
                <img src="imagens_site/imagem1.png" alt="TÃªnis DC Preto" class="imagem-produto">
                <div class="ofer">
                    <span class="material-symbols-outlined">sell</span>
                </div>
            </a>
            <div class="off">off 00%</div>
            <p class="desc">ROUPA</p>
            <div class="preÃ§o">
                <p class="sublinhado">$000</p>
                <p>$000</p>
            </div>
            <input type="hidden" class="imagem-extra1" value="imagens_site/imagem2.png">
            <input type="hidden" class="imagem-extra2" value="imagens_site/imagem3.png">
            <input type="hidden" class="calca1" value="calcaitem">
            <button onclick="comprarProdutos(this)">Comprar</button>
        </div>
        <div class="caritens">
            <a href="tenis.html">
                <img src="imagens_site/imagem1.png" alt="TÃªnis DC Preto" class="imagem-produto">
                <div class="ofer">
                    <span class="material-symbols-outlined">sell</span>
                </div>
            </a>
            <div class="off">off 00%</div>
            <p class="desc">ROUPA</p>
            <div class="preÃ§o">
                <p class="sublinhado">$000</p>
                <p>$000</p>
            </div>
            <input type="hidden" class="imagem-extra1" value="imagens_site/imagem2.png">
            <input type="hidden" class="imagem-extra2" value="imagens_site/imagem3.png">
            <input type="hidden" class="calca1" value="calcaitem">
            <button onclick="comprarProdutos(this)">Comprar</button>
        </div>
        <div class="caritens">
            <a href="tenis.html">
                <img src="imagens_site/imagem1.png" alt="TÃªnis DC Preto" class="imagem-produto">
                <div class="ofer">
                    <span class="material-symbols-outlined">sell</span>
                </div>
            </a>
            <div class="off">off 00%</div>
            <p class="desc">ROUPA</p>
            <div class="preÃ§o">
                <p class="sublinhado">$000</p>
                <p>$000</p>
            </div>
            <input type="hidden" class="imagem-extra1" value="imagens_site/imagem2.png">
            <input type="hidden" class="imagem-extra2" value="imagens_site/imagem3.png">
            <input type="hidden" class="calca1" value="calcaitem">
            <button onclick="comprarProdutos(this)">Comprar</button>
        </div>
        <div class="caritens">
            <a href="tenis.html">
                <img src="imagens_site/imagem1.png" alt="TÃªnis DC Preto" class="imagem-produto">
                <div class="ofer">
                    <span class="material-symbols-outlined">sell</span>
                </div>
            </a>
            <div class="off">off 00%</div>
            <p class="desc">ROUPA</p>
            <div class="preÃ§o">
                <p class="sublinhado">$000</p>
                <p>$000</p>
            </div>
            <input type="hidden" class="imagem-extra1" value="imagens_site/imagem2.png">
            <input type="hidden" class="imagem-extra2" value="imagens_site/imagem3.png">
            <input type="hidden" class="calca1" value="calcaitem">
            <button onclick="comprarProdutos(this)">Comprar</button>
        </div>
    </div>
    <script src="home.js"></script>
    <script>
        /* ADD CARRINHO */
        function addCarrinho(button) {
    const itemCarrinho = button.closest('.container-compra');
    const carImagem = itemCarrinho.querySelector('.imagem').src;
    const carPrecoStr = itemCarrinho.querySelector('.precodescontado').textContent.trim();
    const carnomes = itemCarrinho.querySelector('#desc-produto').textContent.trim();

    // Adicione logs para verificar o conteÃºdo de carPrecoStr
    console.log(`PreÃ§o original coletado: ${carPrecoStr}`);

    // Remover qualquer sÃ­mbolo de moeda e espaÃ§os extras
    const carPrecoLimpo = carPrecoStr.replace(/[^\d,.-]/g, '');
    console.log(`PreÃ§o apÃ³s limpeza: ${carPrecoLimpo}`);

    // Converter o preÃ§o para nÃºmero
    const carPreco = parseFloat(carPrecoLimpo.replace(',', '.'));

    // Verificar se a conversÃ£o foi bem-sucedida
    if (isNaN(carPreco)) {
        alert('O preÃ§o do produto nÃ£o Ã© vÃ¡lido.');
        console.error(`Falha ao converter preÃ§o: ${carPrecoStr} (Limpo: ${carPrecoLimpo})`);
        return;
    }

    // Obter o tamanho selecionado
    const sizeButtons = itemCarrinho.querySelectorAll('.size-button');
    let selectedSize = null;
    sizeButtons.forEach(button => {
        if (button.classList.contains('selected')) {
            selectedSize = button.textContent;
        }
    });

    if (!selectedSize) {
        alert('Por favor, selecione um tamanho.');
        return;
    }

    // Obter o carrinho do localStorage, ou inicializar um array vazio se nÃ£o houver nada
    let carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];

    const novoItem = {
        imagem: carImagem,
        tamanho: selectedSize,
        preco: carPreco,
        nome: carnomes, // Armazena o preÃ§o como nÃºmero
    };

    // Adicionar o novo item ao carrinho
    carrinho.push(novoItem);

    // Salvar o carrinho atualizado no localStorage
    localStorage.setItem('carrinho', JSON.stringify(carrinho));

    // Redirecionar para a pÃ¡gina do carrinho
    window.location.href = 'carrinho.html';
}
    /*TAMANHOS*/
    let selectedSize = null;

    document.querySelectorAll('.size-button').forEach(button => {
    button.addEventListener('click', function() {
        document.querySelectorAll('.size-button').forEach(btn => btn.classList.remove('selected'));
        // Adicionar a classe 'selected' ao botÃ£o clicado
        this.classList.add('selected');
        selectedSize = this.innerText;
    });
    gtag('event', 'click', {
      'event_category': 'button',
      'event_label': 'buy',
      'value': 1
    });
});
    
        /* TAMANHOS */
    
        /* PROXIMO SLIDE */
        let slideIndex = 0;
        const slides = document.querySelectorAll('.imagemhome .imagem');
    
        function proximoslide(n) {
            slideIndex += n;
            if (slideIndex < 0) {
                slideIndex = slides.length - 1;
            } else if (slideIndex >= slides.length) {
                slideIndex = 0;
            }
            atualizar();
        }
    
        function atualizar() {
            slides.forEach((slide, index) => {
                slide.style.opacity = (index === slideIndex) ? '1' : '0';
            });
        }
    
        atualizar();
    </script>
</body>
</html>